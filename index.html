<!DOCTYPE html>
<html lang="en-uk">
	<head>
		<meta charset="utf-8">
		<title>Alex Parker's Portfolio</title>
		<meta name="description" lang="en" content="Alex Parker's Portfolio Website">
		<meta name="author" content="Alex Parker">
		<meta name="viewport" content="width=device-width">
		<link rel="shortcut icon" type="image/ico" href="img/logo.ico">
		<link rel="stylesheet" href="css/layout.css" type="text/css" media="screen">
		<link rel="stylesheet" href="css/lightbox.css" type="text/css" media="screen">
		<link href='http://fonts.googleapis.com/css?family=Chau+Philomene+One' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Open+Sans' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=Press+Start+2P' rel='stylesheet' type='text/css'>
		<link href='http://fonts.googleapis.com/css?family=VT323' rel='stylesheet' type='text/css'>
	</head>
	<body>
		<header>
			<h1>3zanders</h1>
			<h2>Alex Parker's Portfolio</h2>
			<p><a href="http://www.twitter.com/3zanders">Twitter</a> | <a href="#">Linked In</a></p>
		</header>
		<nav>
			<ul id="nav">
			</ul>
		</nav>
		<div id="content">
		</div>
		<script src="js/jquery-1.7.2.min.js"></script>
		<script src="js/jquery.xml2json.js"></script>
		<script type="text/javascript">
			$.get("items.xml", function(xml) {
				var items = $.xml2json(xml, true).entry;
				var navContent = "\n";
				var content = "\n";
				for (var i in items)
				{
					var item = items[i];
					var classType = i == 0 ? "class=\"first\" " : ((i == items.length - 1) ? "class=\"last\" " : "");
					
					var navTitle = (item.menutitle ? item.menutitle[0].text : item.title[0].text);
					var navLink = navTitle.replace(' ', '').toLowerCase();
					navContent += "<li><a href=\"#" + navLink + "\" " + classType + ">" + navTitle + "</a></li>\n";
					
					content += "<hr/><section>\n<a name=\"" + navLink + "\"></a><aside><ul class=\"code\">\n";
					for (var j in item.languages[0].item)
					{
						var name = item.languages[0].item[j].text;
						content += "<li>" + name + "</li>\n";
					}
					content += "</ul><p class=\"date\">" + item.date[0].text + "</p>\n";
					content += "</aside><h1>" + item.title[0].text + "</h1>\n";
					content += "<div class=\"images\">\n";
					for (var j in item.screenshots[0].screenshot)
					{
						var classType = j == 0 ? "class=\"first\" " : ((j == item.screenshots[0].screenshot.length - 1) ? "class=\"last\" " : "");
						var link = item.screenshots[0].screenshot[j].text;
						content += "<a href=\"" + link + ".jpg\" rel=\"lightbox[" + i + "]\" " + classType + "><img src=\"" + link + "-t.jpg\"/></a>\n";
					}
					content += "</div>\n<p>" + item.description[0].text + "</p>\n";
					content += "<h2>Links</h2>\n<ul class=\"links\">\n";
					for (var j in item.links[0].link)
					{
						var link = item.links[0].link[j];
						content += "<li><a href=\"" + link.link[0].text + "\">" + link.name[0].text + "</a>" + link.description[0].text + "</li>\n";
					}
					content += "</ul></section>\n";
				}
				$("#nav").html(navContent);
				$("#content").html(content);
				$.ajax({
					url: "js/lightbox.js",
					dataType: "script",
					cache: true
				});
			});
		</script>
	</body>
</html>